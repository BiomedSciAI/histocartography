train:
  data:
    fold: 1
    overfit_test: False
    graph_directory:  "v0_low_4000"
    centroid_features: "cat"
    downsample_segmentation_maps: 16
    augmentation_mode: graph
    patch_size: null
    supervision:
      mode: image_level
  model:
    gnn_config:
      activation: "PReLU"
      agg_operator: "concat"
      input_dim: 1282
      hidden_dim: 32
      layer_type: "gin_layer"
      n_layers: 12
      output_dim: 32
      neighbor_pooling_type: "mean"
      graph_norm: False
      with_rlp: False
      edge_dim: null
      dropout: 0.5
    graph_classifier_config:
      n_layers: 2
      hidden_dim: 32
      input_dropout: 0.0
  metrics:
    graph:
      - "MultiLabelBalancedAccuracy"
      - "MultiLabelF1Score"
    segmentation:
      - "GleasonScoreKappa"
      - "GleasonScoreF1"
      - "F1Score"
      - "IoU"
      - "fIoU"
      - "fF1Score"
  params:
    experiment_name: "anv_wsss_sicap_wsi_gnn_weak"
    experiment_tags: null
    optimizer:
      class: "Adam"
      params:
        lr: 0.0001
      scheduler: 
        class: ExponentialLR
        params:
          gamma: 0.997
    loss:
      graph:
        class: "GraphBCELoss"
        params: {}
    batch_size: 4
    nr_epochs: 2000
    num_workers: 8
    clip_gradient_norm: null
    dataset: "sicapv2_wsi"
    seed: null
    validation_frequency: 5
    autotest: True
    use_weighted_loss: False
    use_log_frequency_weights: True
    focused_metric: "MeanDatasetDice"
    balanced_sampling: False
test:
  data: {}
  model:
    architecture: 's3://mlflow/652/09df1a1a82684bd48816765c0d0f5d94/artifacts/best.valid.graph.segmentation.fF1Score'
  params:
    experiment_name: "anv_wsss_sicap_wsi_test_gnn"
    experiment_tags: null
    dataset: sicapv2_wsi
    operation: argmax
    local_save_path: '/dataP/anv/data/ETH/gnn_wsi_test_masks'
    mlflow_save_path: 'gnn_wsi_test_masks'
    threshold: 0.25
    use_grad_cam: True
    normalize_percentages: False
