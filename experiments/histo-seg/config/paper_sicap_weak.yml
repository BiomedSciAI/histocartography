test:
  data: {}
  model:
    architecture: s3://mlflow/652/09df1a1a82684bd48816765c0d0f5d94/artifacts/best.valid.graph.segmentation.fF1Score
  params:
    dataset: sicapv2_wsi
    experiment_name: anv_wsss_sicap_wsi_test_gnn
    experiment_tags: null
    local_save_path: /dataP/anv/data/ETH/gnn_wsi_test_masks
    mlflow_save_path: gnn_wsi_test_masks
    normalize_percentages: false
    operation: argmax
    threshold: 0.25
    use_grad_cam: true
train:
  data:
    augmentation_mode: node
    centroid_features: cat
    downsample_segmentation_maps: 16
    fold: 1
    graph_directory: v0_low_4000
    overfit_test: false
    patch_size: null
    supervision:
      mode: image_level
  metrics:
    graph:
    - MultiLabelBalancedAccuracy
    - MultiLabelF1Score
    segmentation:
    - GleasonScoreKappa
    - GleasonScoreF1
    - DatasetDice
    - DatasetIoU
    - fF1Score
  model:
    gnn_config:
      activation: PReLU
      agg_operator: concat
      dropout: 0.5
      edge_dim: null
      graph_norm: false
      hidden_dim: 32
      input_dim: 1282
      layer_type: gin_layer
      n_layers: 12
      neighbor_pooling_type: mean
      output_dim: 32
      with_rlp: false
    graph_classifier_config:
      hidden_dim: 32
      input_dropout: 0.0
      n_layers: 2
  params:
    autotest: true
    balanced_sampling: false
    batch_size: 4
    clip_gradient_norm: null
    dataset: sicapv2_wsi
    experiment_name: anv_wsss_sicap_wsi_gnn_weak
    experiment_tags: null
    focused_metric: MeanDatasetDice
    loss:
      graph:
        class: GraphBCELoss
        params: {}
    nr_epochs: 2000
    num_workers: 8
    optimizer:
      class: Adam
      params:
        lr: 0.0001
      scheduler:
        class: ExponentialLR
        params:
          gamma: 0.997
    seed: null
    use_log_frequency_weights: true
    use_weighted_loss: false
    validation_frequency: 5
